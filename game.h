#pragma once
#include<iostream>
#include<string>
#include<Windows.h>
#include"stack.h"
using namespace std;

class game // class for the game's structure
{
	int xmouse, ymouse; // holds and x and y position 
	int board[30][30] =
	{
		{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
		{ 0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,2,0,0,0,0,0,1 },
		{ 0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1 },
		{ 1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,2,1,0,0,0,0,0,2,0,0,0,0,1 },
		{ 1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,1,1,1,1,1 },
		{ 1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1 },
		{ 1,0,0,1,0,0,1,1,1,1,0,0,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,0,1 },
		{ 1,0,0,1,1,1,1,0,0,1,0,0,1,1,1,1,1,1,1,0,0,1,1,1,1,2,0,1,0,1 },
		{ 1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,1 },
		{ 1,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,1,1,1,1,1 },
		{ 1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1 },
		{ 1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,0,0,1,1,1 },
		{ 1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,1,1 },
		{ 1,0,0,1,0,0,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,0,0,1,1,1,1,1,1 },
		{ 1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1 },
		{ 1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1 },
		{ 1,0,0,0,2,0,0,0,0,0,0,0,1,0,2,1,0,0,0,0,0,1,0,0,1,0,0,0,1,1 },
		{ 1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,0,0,1,1 },
		{ 1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,1 },
		{ 1,0,0,1,0,0,1,1,1,1,1,1,1,0,0,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1 },
		{ 1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,2,1,1 },
		{ 1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,1,1,0,0,0,1,1 },
		{ 1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1 },
		{ 1,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,0,0,0,1,1 },
		{ 1,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1 },
		{ 1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,1,0,0,1,0,0,1,1,0,0,1,1 },
		{ 1,0,0,1,0,0,1,0,0,1,0,0,1,0,2,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1 },
		{ 1,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,3,3 },
		{ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 }
	};

public:
	stack mystack;
	bool gameover = false;
	bool move = false;
	int prevx = xmouse; // temporary x position
	int prevy = ymouse; // temporary y position 
	game()
	{
		xmouse = ymouse = 1; // position of the mouse
	};
	void displayboard(); // display's the game board
	void displaymouse(bool flag); // display's the mouse in the game
	void gotoxy(int column, int line); // function to find the x and y position
	void movemouse(); // function to move mouse
	void ShowConsoleCursor(bool cursorVisible); // invisible's cursor
};